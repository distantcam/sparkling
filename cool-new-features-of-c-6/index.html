<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-28399680-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-28399680-2")</script><link rel="alternate" type="application/rss+xml" title="Subscribe to What&#39;s New" href="/feed.rss"><meta name="author" content="Cameron MacFarland"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#ffffff"><title>Cool New Features of C# 6 - Cam&#39;s Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700"><link rel="stylesheet" href="/css/theme.css"><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a><nav class="navbar navbar-expand-md navbar-dark bg-dark"><div class="container px-0"><a class="navbar-brand" href="/">Cam&#39;s Blog</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarCollapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/tags">Tags</a></li><li class="nav-item"><a class="nav-link" href="/feed.rss"><i class="fas fa-rss fa-lg"></i></a></li></ul></div></div></nav><div id="content"><div class="container mt-5"><div class="row"><main class="col-sm-12 col-md-8"><article><div class="blog-item-wrap"><img class="post-thumbnail" src="https://source.unsplash.com/466ENaLuhLY/750x410"><div class="post-inner-content"><header class="post-header"><h2 class="post-title">Cool New Features of C# 6</h2><div class="post-meta"><span class="posted-on"><i class="fas fa-calendar-alt"></i> <time datetime="2015-05-27T16:00:00.000Z">28th May 2015</time> </span><span class="tags ml-2"><i class="fas fa-tags"></i> <a class="tag" href="/tags/c/">c#</a> <a class="tag" href="/tags/language/">language</a> <a class="tag" href="/tags/roslyn/">roslyn</a></span></div></header><div class="post-content"><p>C# 6.0 is coming soon, and being a brand spanking new compiler there’s a bunch of new features and fixes to the language.</p><a id="more"></a><p>Here’s the list.</p><ul><li><a href="#autopropinit">Auto-property Initializers</a></li><li><a href="#getteronlyprop">Getter-only Auto-properties</a></li><li><a href="#staticusing">Static Using</a></li><li><a href="#indexinit">Index Initializers</a></li><li><a href="#catchawait"><code>await</code> Inside Catch/Finally Block</a></li><li><a href="#exceptionfilters">Exception Filters</a></li><li><a href="#expressionbodies">Expression-bodied Members</a></li><li><a href="#nullconditional">Null Conditional</a></li><li><a href="#stringinterpolation">String Interpolation</a></li><li><a href="#nameof"><code>nameof</code> Operator</a></li></ul><h4 id="Auto-property-Initializers"><a href="#Auto-property-Initializers" class="headerlink" title="Auto-property Initializers"></a><a id="autopropinit">Auto-property Initializers</a></h4><p>You can now set a default value for auto-properties directly on the property, instead of in the constructor.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">int</span> X <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Getter-only-Auto-properties"><a href="#Getter-only-Auto-properties" class="headerlink" title="Getter-only Auto-properties"></a><a id="getteronlyprop">Getter-only Auto-properties</a></h4><p>A getter only property is just that, a property that only has a getter. Previously you had to define the backing field and manually write the getter yourself. But now you can do this.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">int</span> Y <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>This means you can also assign getter-only auto-properties within your constructor only, like readonly fields.</p><h4 id="Static-Using"><a href="#Static-Using" class="headerlink" title="Static Using"></a><a id="staticusing">Static Using</a></h4><p>In C# 6 it’s possible to reference a static class with a using alias, and avoid having to repeat the class name in code.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token keyword">static</span> System<span class="token punctuation">.</span>Console<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Index-Initializers"><a href="#Index-Initializers" class="headerlink" title="Index Initializers"></a><a id="indexinit">Index Initializers</a></h4><p>In C# 6 you can now initialize an object that has an index property as part of an object initialization.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">var</span> dictionary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dictionary</span><span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">"three"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">"seven"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Await-Inside-Catch-Finally-Block"><a href="#Await-Inside-Catch-Finally-Block" class="headerlink" title="Await Inside Catch/Finally Block"></a><a id="catchawait">Await Inside Catch/Finally Block</a></h4><p>Prior to C# 6 you couldn’t use <code>await</code> inside a <code>catch</code> or <code>finally</code> block. Instead you’d get <code>error CS1985: Cannot await in the body of a catch clause</code>. Now you can! Enjoy.</p><h4 id="Exception-Filters"><a href="#Exception-Filters" class="headerlink" title="Exception Filters"></a><a id="exceptionfilters">Exception Filters</a></h4><p>This has been available in VisualBasic for a while now, and now C# can do this too.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// web code</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">WebException</span> ex<span class="token punctuation">)</span> <span class="token function">when</span> <span class="token punctuation">(</span>ex<span class="token punctuation">.</span>Status <span class="token operator">==</span> WebExceptionStatus<span class="token punctuation">.</span>Timeout<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// log timeout</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">WebException</span> ex<span class="token punctuation">)</span> <span class="token function">when</span> <span class="token punctuation">(</span>ex<span class="token punctuation">.</span>Status <span class="token operator">==</span> WebExceptionStatus<span class="token punctuation">.</span>ConnectionClosed<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// log connection closed</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">WebException</span> ex<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// all other WebExceptions</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Expression-bodied-Members"><a href="#Expression-bodied-Members" class="headerlink" title="Expression-bodied Members"></a><a id="expressionbodies">Expression-bodied Members</a></h4><p>If you have methods or getter-only properties with a single line of code, you can now define that method with simpler syntax.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> FirstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> LastName<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">string</span> FullName <span class="token operator">=</span><span class="token operator">></span> FirstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> LastName<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Null-Conditional"><a href="#Null-Conditional" class="headerlink" title="Null Conditional"></a><a id="nullconditional">Null Conditional</a></h4><p>Have you ever chained a bunch of properties and methods together, only to find one of the links in the chain returns <code>null</code>? Well now you can use the Null-Conditional Operator (<code>?.</code>) to handle <code>null</code> for you.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span> x <span class="token operator">=</span> something<span class="token operator">?</span><span class="token punctuation">.</span>withproperty<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">CallsMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>How does it work? The entire expression will evaluate, but if any of the subexpressions return <code>null</code> then the whole thing returns the default value for the expression, which in this case is a <code>null string</code>.</p><p>If the expression ended with a value type, like <code>int</code>, then the default value would be <code>0</code>. I recommend using <code>int?</code> so you can check if the expression failed by checking for <code>null</code>.</p><h4 id="String-Interpolation"><a href="#String-Interpolation" class="headerlink" title="String Interpolation"></a><a id="stringinterpolation">String Interpolation</a></h4><p>You know how in Razor you can escape the html to evaulate code? Now you can do the same thing in C#.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> $<span class="token string">"{FirstName} {LastName}"</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>The bit inside the braces <code>{}</code> is evaluated as C# code, which means you can put expressions in there too.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">"The distance is {Sqrt(p.x * p.x + p.y * p.y)} meters."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Nameof-Operator"><a href="#Nameof-Operator" class="headerlink" title="Nameof Operator"></a><a id="nameof">Nameof Operator</a></h4><p>There is now a <code>nameof</code> operator that returns the name of the item as a string.</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentNullException</span><span class="token punctuation">(</span><span class="token function">nameof</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>The benefit of this is that the whole thing is now rename safe.</p></div></div></div></article><div id="comments"><h2 class="text-primary">x thoughts on “Cool New Features of C# 6”</h2><ol class="comment-list"><li><div id="reply-0" class="comment-body"><div class="comment-meta"><div class="comment-author"><img width="60" height="60" src="https://www.gravatar.com/avatar/0d113e963c796ec77c7ed883e490316d?s=60&d=mp&r=g"> <b class="text-uppercase">Test Author</b></div><div class="comment-metadata"><time datetime="2019-02-24T13:12:07.967Z">24th February 2019 at 21:12:07</time></div></div><div class="comment-content"><p>Some comment</p></div><div class="reply text-right"><button class="reply btn btn-light-primary btn-sm" data-respondtarget="reply-0">Reply</button></div></div><ol class="children"><li><div id="reply-1" class="comment-body"><div class="comment-meta"><div class="comment-author"><img width="60" height="60" src="https://www.gravatar.com/avatar/2f5b3fa26595bc45871213860db4668f?s=60&d=mp&r=g"> <b class="text-uppercase">Anon User</b></div><div class="comment-metadata"><time datetime="2019-02-24T13:12:07.967Z">24th February 2019 at 21:12:07</time></div></div><div class="comment-content"><p>Anonymous reply</p></div><div class="reply text-right"><button class="reply btn btn-light-primary btn-sm" data-respondtarget="reply-1">Reply</button></div></div><ol class="children"><li><div id="reply-2" class="comment-body"><div class="comment-meta"><div class="comment-author"><img width="60" height="60" src="https://www.gravatar.com/avatar/2f5b3fa26595bc45871213860db4668f?s=60&d=mp&r=g"> <b class="text-uppercase">Anon User</b></div><div class="comment-metadata"><time datetime="2019-02-24T13:12:07.967Z">24th February 2019 at 21:12:07</time></div></div><div class="comment-content"><p>Third reply</p></div><div class="reply text-right"><button class="reply btn btn-light-primary btn-sm" data-respondtarget="reply-2">Reply</button></div></div></li></ol></li></ol></li><li><div id="reply-3" class="comment-body"><div class="comment-meta"><div class="comment-author"><img width="60" height="60" src="https://www.gravatar.com/avatar/0d113e963c796ec77c7ed883e490316d?s=60&d=mp&r=g"> <b class="text-uppercase">Test Author</b></div><div class="comment-metadata"><time datetime="2019-02-24T13:12:07.968Z">24th February 2019 at 21:12:07</time></div></div><div class="comment-content"><p>Some comment</p></div><div class="reply text-right"><button class="reply btn btn-light-primary btn-sm" data-respondtarget="reply-3">Reply</button></div></div></li></ol><div id="respond" class="comment-respond mb-4"><h6 class="text-uppercase text-primary">Leave a reply <small><a id="cancel-reply" href>Cancel reply</a></small></h6><form><small class="text-muted">Your email address will not be published. Required fields are marked <span class="text-primary">*</span></small> <input type="hidden" name="postId" value="cool-new-features-of-c-6"><div class="form-group mt-2"><label for="inputComment">Comment</label> <textarea class="form-control" id="inputComment" rows="5"></textarea></div><div class="form-group mt-2"><label for="inputName">Name <span class="text-primary">*</span></label> <input type="name" class="form-control" id="inputName" aria-describedby="emailHelp" placeholder="required"></div><div class="form-group mt-2"><label for="inputEmail">Email <span class="text-primary">*</span></label> <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp" placeholder="required"></div><button type="submit" class="btn btn-primary btn-sm text-uppercase">Post Comment</button></form></div></div></main><div class="col-sm-12 col-md-4"><div class="border bg-white p-4"><aside class="mb-5"><h6 class="text-uppercase">Follow us</h6><ul class="social-items"><li><a href="https://twitter.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://instagram.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-instagram fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://stackoverflow.com/users/3820"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://mastodon.social/@distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i></span></a></li></ul></aside><aside class="mb-5"><h6 class="text-uppercase">Tags</h6><div class="mt-4"><a class="btn btn-light-primary btn-sm tag" href="/tags/architecture/">architecture</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/mvvm/">mvvm</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/fody/">fody</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/aop/">aop</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/akavache/">akavache</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/etag/">etag</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/web/">web</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/cache/">cache</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/life/">life</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/c/">c#</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/language/">language</a> <a class="btn btn-light-primary btn-sm tag" href="/tags/roslyn/">roslyn</a></div></aside></div></div></div></div></div><div class="scrolltop"><i class="fas fa-arrow-up"></i><span class="sr-only">Scroll to Top</span></div><footer><div class="container text-center"><ul class="social-items social-items-dark"><li><a href="https://twitter.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://instagram.com/distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-instagram fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://stackoverflow.com/users/3820"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://mastodon.social/@distantcam"><span class="fa-stack fa-lg"><i class="fas fa-square fa-stack-2x"></i> <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="text-muted">Copyright &copy; Cameron MacFarland 2012-2019</p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script><script src="/js/theme.js"></script></body></html>